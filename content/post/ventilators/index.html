---
title: "Coronavirus: See How Many Medical Ventilators There Are in Your Town"
author: "Tanja"
date: "2020-03-27"
output: html_document
---

<script src="/rmarkdown-libs/htmlwidgets/htmlwidgets.js"></script>
<script src="/rmarkdown-libs/jquery/jquery.min.js"></script>
<link href="/rmarkdown-libs/leaflet/leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet/leaflet.js"></script>
<link href="/rmarkdown-libs/leafletfix/leafletfix.css" rel="stylesheet" />
<script src="/rmarkdown-libs/Proj4Leaflet/proj4-compressed.js"></script>
<script src="/rmarkdown-libs/Proj4Leaflet/proj4leaflet.js"></script>
<link href="/rmarkdown-libs/rstudio_leaflet/rstudio_leaflet.css" rel="stylesheet" />
<script src="/rmarkdown-libs/leaflet-binding/leaflet.js"></script>


<div id="r-markdown" class="section level2">
<h2>R Markdown</h2>
<p>For patients critically ill with COVID-19, access to a ventilator could be a matter of life or death. In early March at the beginning of the COVID-19 pandemic the Serbian government was not disclosing information about the available number of ventilators to its citizens. <a href="https://www.cins.rs/en/">CINS’</a> journalists took the initiative to obtain this information and to make it available to the public in an article concerning respiratory equipment in the current crisis. Shortly after, the government took more serious action towards protecting its citizens against the virus.</p>
<p>As a data scientist I was pleased to assist CINS’ journalists in making interactive maps informing readers of their findings.</p>
<p>This article can be found at
<a href="https://www.cins.rs/en/coronavirus-see-how-many-medical-ventilators-there-are-in-your-town/" class="uri">https://www.cins.rs/en/coronavirus-see-how-many-medical-ventilators-there-are-in-your-town/</a></p>
<p>To create an interactive map like this in R you will need the <code>leaflet</code> package. <strong>Leaflet</strong> is one of the most popular open-source JavaScript libraries for interactive maps that was integrated into R, by a team of people from RStudio. We will illustrate how easy it is to plot a location map using the leaflet package, but you can learn more about this package from the <a href="https://rstudio.github.io/leaflet/">Leaflet for R</a> website.</p>
<p>Here is what we did.</p>
<pre class="r"><code>library(leaflet)
suppressPackageStartupMessages(library(dplyr))
suppressPackageStartupMessages(library(tidyverse))

mydata &lt;- read.csv(&#39;Gradovi.csv&#39;, 
                    header=T, 
                    na.strings=c(&quot;&quot;,&quot;NA&quot;),
                    stringsAsFactor = FALSE) 

glimpse(mydata)</code></pre>
<pre><code>## Rows: 69
## Columns: 7
## $ Mesta         &lt;chr&gt; &quot;Bačka Topola&quot;, &quot;Subotica&quot;, &quot;Kikinda&quot;, &quot;Senta&quot;, &quot;Zrenja…
## $ Latitude      &lt;dbl&gt; 45.81442, 46.10055, 45.82728, 45.92601, 45.38156, 45.77…
## $ Longitude     &lt;dbl&gt; 19.63796, 19.66506, 20.46152, 20.07809, 20.36857, 19.11…
## $ Koristi.se    &lt;int&gt; 1, 19, 6, 6, 13, 14, 3, 1, 4, 14, 98, 48, 1, 1, 0, 16, …
## $ Ne.koristi.se &lt;int&gt; 0, 0, 0, 1, 0, 0, 0, 0, 2, 0, 5, 8, 0, 0, 1, 0, 0, 0, 0…
## $ Nepoznato     &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6, 0, 0, 0, 0, 0, 0, 0, 0…
## $ Ukupno        &lt;int&gt; 1, 19, 6, 7, 13, 14, 3, 1, 6, 14, 103, 56, 1, 1, 1, 16,…</code></pre>
<pre class="r"><code>minlat &lt;- min(mydata$Latitude)
maxlat &lt;- max(mydata$Latitude)
minlng &lt;- min(mydata$Longitude)
maxlng &lt;- max(mydata$Longitude)

mydata %&gt;% 
   leaflet() %&gt;% 
   addTiles() %&gt;%
   fitBounds(~minlng, ~minlat, ~maxlng, ~maxlat) %&gt;% 
   addCircles(lng = ~Longitude, lat = ~Latitude,
              radius = 750, weight = 7, color = &quot;black&quot;,
              fillColor = &quot;red&quot;, fillOpacity = 0.7,  
              popup = ~paste(&quot;&lt;b&gt;&quot;, Mesta, &quot;&lt;/b&gt;&quot;, &quot;&lt;br&gt;Koristi se = &quot;, Koristi.se,&quot;&lt;br&gt;Ne koristi se = &quot;,  Ne.koristi.se, &quot;&lt;br&gt; Nepoznato =&quot;, Nepoznato, &quot;&lt;br&gt;Total =&quot;, Ukupno, &quot;&lt;br&gt;&quot;))</code></pre>
<div id="htmlwidget-1" style="width:672px;height:480px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircles","args":[[45.8144238,46.1005467,45.8272842,45.9260128,45.3815612,45.773295,44.9018213,45.1071651,45.1181926,44.874,45.2671352,45.2208633,45.6138162,45.415745,45.2497275,45.5701534,45.0485391,45.00806,45.1287251,45.1011851,44.9794968,44.6034915,44.786568,44.5313463,44.7488612,44.2743141,44.367191,44.6658941,44.37366517,44.4766526,44.6208353,44.3082168,44.0127932,44.24984,43.858616,43.9777294,43.925537,44.0698918,44.6035552,44.2288747,44.4191965,43.9015048,43.5660829,43.9705397,43.4676913,45.8461,43.5827565,43.2741145,43.8555729,43.7504777,43.5827565,43.3893574,43.8555729,43.8914144,44.0207262,43.1406976,43.7238483,43.5763232,43.3209022,43.5409901,43.2367913,43.0638347,43.1557012,42.9963758,42.5450345,42.6907233,42.3091712,42.8913909,42.6014008],[19.6379551,19.6650593,20.4615173,20.0780937,20.3685737,19.1151469,21.4232908,20.6595515,21.2944883,20.6475673,19.8335496,19.8470699,20.0459853,19.8931066,19.3967698,19.6449683,20.0808092,19.82222,19.7897422,19.8616812,19.6209662,20.45241,20.4489216,19.2067663,19.6907882,19.8903398,20.9604515,20.9335169,21.41833166,21.6742577,21.1842054,20.5562765,20.9114225,21.2008216,21.403911,21.2572719,21.3748327,22.0985086,22.6098737,22.5310674,21.9495234,22.2738011,22.2466754,19.5649108,19.8125507,20.0365,19.5266606,20.0032054,19.842471,19.7142007,19.5266606,19.6463666,19.842471,20.3501652,20.4633133,20.5213617,20.6872542,21.3335812,21.8957589,21.7183695,21.5915831,22.4061647,22.5856811,21.944034,21.9002712,22.1720303,21.6498686,20.8659995,21.1918761],750,null,null,{"interactive":true,"className":"","stroke":true,"color":"black","weight":7,"opacity":0.5,"fill":true,"fillColor":"red","fillOpacity":0.7},["<b> Bačka Topola <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Subotica <\/b> <br>Koristi se =  19 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 19 <br>","<b> Kikinda <\/b> <br>Koristi se =  6 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 6 <br>","<b> Senta <\/b> <br>Koristi se =  6 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 7 <br>","<b> Zrenjanin <\/b> <br>Koristi se =  13 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 13 <br>","<b> Sombor <\/b> <br>Koristi se =  14 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 14 <br>","<b> Bela Crkva <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Kovačica <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Vršac <\/b> <br>Koristi se =  4 <br>Ne koristi se =  2 <br> Nepoznato = 0 <br>Total = 6 <br>","<b> Pančevo <\/b> <br>Koristi se =  14 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 14 <br>","<b> Novi Sad <\/b> <br>Koristi se =  98 <br>Ne koristi se =  5 <br> Nepoznato = 6 <br>Total = 103 <br>","<b> Sremska Kamenica <\/b> <br>Koristi se =  48 <br>Ne koristi se =  8 <br> Nepoznato = 0 <br>Total = 56 <br>","<b> Bečej <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Temerin <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Bačka Palanka <\/b> <br>Koristi se =  0 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Vrbas <\/b> <br>Koristi se =  16 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 16 <br>","<b> Inđija <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Ruma <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Vrdnik <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Irig <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Sremska Mitrovica <\/b> <br>Koristi se =  8 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 9 <br>","<b> Barajevo <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Beograd <\/b> <br>Koristi se =  430 <br>Ne koristi se =  30 <br> Nepoznato = 0 <br>Total = 460 <br>","<b> Loznica <\/b> <br>Koristi se =  5 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 6 <br>","<b> Šabac <\/b> <br>Koristi se =  5 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 6 <br>","<b> Valjevo <\/b> <br>Koristi se =  9 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 9 <br>","<b> Smederevska Palanka <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Smederevo <\/b> <br>Koristi se =  10 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 10 <br>","<b> Petrovac <\/b> <br>Koristi se =  2 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 2 <br>","<b> Kučevo <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Požarevac <\/b> <br>Koristi se =  8 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 8 <br>","<b> Aranđelovac <\/b> <br>Koristi se =  4 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 4 <br>","<b> Kragujevac <\/b> <br>Koristi se =  35 <br>Ne koristi se =  2 <br> Nepoznato = 3 <br>Total = 40 <br>","<b> Svilajnac <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Paraćin <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Jagodina <\/b> <br>Koristi se =  4 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 4 <br>","<b> Ćuprija <\/b> <br>Koristi se =  7 <br>Ne koristi se =  2 <br> Nepoznato = 0 <br>Total = 9 <br>","<b> Bor <\/b> <br>Koristi se =  3 <br>Ne koristi se =  2 <br> Nepoznato = 0 <br>Total = 5 <br>","<b> Kladovo <\/b> <br>Koristi se =  1 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 2 <br>","<b> Negotin <\/b> <br>Koristi se =  2 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Majdanpek <\/b> <br>Koristi se =  2 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 2 <br>","<b> Zaječar <\/b> <br>Koristi se =  8 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 8 <br>","<b> Knjaževac <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Bajina Bašta <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Nova Varoš <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Požega <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Priboj <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Sjenica <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Užice <\/b> <br>Koristi se =  2 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 2 <br>","<b> Čajetina <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Priboj <\/b> <br>Koristi se =  2 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 2 <br>","<b> Prijepolje <\/b> <br>Koristi se =  2 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 2 <br>","<b> Užice <\/b> <br>Koristi se =  10 <br>Ne koristi se =  3 <br> Nepoznato = 0 <br>Total = 13 <br>","<b> Čačak <\/b> <br>Koristi se =  16 <br>Ne koristi se =  1 <br> Nepoznato = 0 <br>Total = 17 <br>","<b> Gornji Milanovac <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Novi Pazar <\/b> <br>Koristi se =  3 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 3 <br>","<b> Kraljevo <\/b> <br>Koristi se =  10 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 10 <br>","<b> Kruševac <\/b> <br>Koristi se =  6 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 6 <br>","<b> Niš <\/b> <br>Koristi se =  43 <br>Ne koristi se =  2 <br> Nepoznato = 0 <br>Total = 45 <br>","<b> Aleksinac <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Prokuplje <\/b> <br>Koristi se =  4 <br>Ne koristi se =  6 <br> Nepoznato = 0 <br>Total = 4 <br>","<b> Babušnica <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Pirot <\/b> <br>Koristi se =  7 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 7 <br>","<b> Leskovac <\/b> <br>Koristi se =  7 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 7 <br>","<b> Vranje <\/b> <br>Koristi se =  13 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 13 <br>","<b> Surdulica <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>","<b> Preševo <\/b> <br>Koristi se =  2 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 2 <br>","<b> Kosovska Mitrovica <\/b> <br>Koristi se =  7 <br>Ne koristi se =  2 <br> Nepoznato = 0 <br>Total = 9 <br>","<b> Gračanica <\/b> <br>Koristi se =  1 <br>Ne koristi se =  0 <br> Nepoznato = 0 <br>Total = 1 <br>"],null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null,null]}],"fitBounds":[42.3091712,19.1151469,46.1005467,22.6098737,[]],"limits":{"lat":[42.3091712,46.1005467],"lng":[19.1151469,22.6098737]}},"evals":[],"jsHooks":[]}</script>
<hr />
<p>This was data democracy in action, a means of holding governments to account and nudging them into action. By empowering citizens to be data literate they are able to cut through the fog of misinformation and to have a deeper understanding of the world we live in. There is no need for everyone to be a data scientist, but there is an urgent need for data literacy to be available to everyone. Data is democracy.</p>
</div>
